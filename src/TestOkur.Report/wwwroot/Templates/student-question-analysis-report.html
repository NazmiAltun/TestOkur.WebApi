<!DOCTYPE html>
<html>

<head>
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <title>{{examName}} ÖĞRENCİ - SORU ANALİZİ</title>
    <link rel="stylesheet" href="{#asset assets/main.css @encoding=link}">
    <style type='text/css'>
        html {
            font-size: {{fontSizePercent}}%;
        }     
        h3 {
            background: #1db1d6;
            border: 1px solid;
            margin-top: 1.25rem;
        }
        td.correct {
            background: #4ceb34;
        }
		th,td {
			padding:0px
		}
		thead tr,tfoot tr {
		font-size: {{fontSizePercent}}%;
		}
    </style>
</head>

<body>
    <h1>
        {{examName}} ÖĞRENCİ - SORU ANALİZİ
    </h1>
     {{#if html}}
    <button class="print-button" onclick="window.print();">Yazdir</button>
    {{/if}}
    <div class='grid-container'>
        <div class='grid-item'>
            <strong>Sınav Adı :</strong>
            {{examName}}
        </div>
        <div class='grid-item'>
            <strong>Sınıf :</strong>
            {{classroom}}
        </div>
        <div class='grid-item'>
            <strong>Sınav Tarihi :</strong>
            {{examDate}}
        </div>
        <div class='grid-item'>
            <strong>Kitapcik :</strong>
            {{booklet}}
        </div>
    </div>
    {{#each sections}}
    <h3>{{lessonName}}</h3>
    <table>
        <thead>
            <tr>
                <th class='rotate90' rowspan='2'>Sıra</th>
                <th class='rotate90' rowspan='2'>Öğr. No</th>
                <th rowspan='2'>Adı - Soyadı</th>
                <th colspan='2'>Cevap</th>
                {{#each answers}}
                <th>{{correctAnswer}}</th>
                {{/each}}
                <th class='rotate90' rowspan='2'>Doğru</th>
                <th class='rotate90' rowspan='2'>Yanlış</th>
                <th class='rotate90' rowspan='2'>Boş</th>
                <th class='rotate90' rowspan='2'>Net</th>
                <th rowspan='2'>Başarı (%)</th>
            </tr>
            <tr>

                <th>Sınıf</th>
                <th>Kit.</th>
                {{#each answers}}
                <th>{{questionNo}}</th>
                {{/each}}
            </tr>
        </thead>
        <tbody>
            {{#each studentResults}}
            <tr>
                <td>{{rowNo}}</td>
                <td>{{studentNumber}}</td>
                <td>{{studentFirstName}} {{studentLastName}}</td>
                <td>{{classroom}}</td>
                <td>{{booklet}}</td>
                {{#each answers}}
                <td class='{{getQuestionClass result}}'>{{answer}}</td>
                {{/each}}
                <td>{{correctCount}}</td>
                <td>{{wrongCount}}</td>
                <td>{{emptyCount}}</td>
                <td>{{formatTwoDecimalPlaces net}}</td>
                <td>{{formatOneDecimalPlace successPercent}}</td>
            </tr>
            {{/each}}
        </tbody>
        <tfoot>
            <tr>
                <td class='rotate90' colspan='3' rowspan='3'>TOP.</td>
                <td colspan='2'>Doğru</td>
                {{#each answers}}
                <td>{{correctCount}}</td>
                {{/each}}
                <td>
                    {{formatTwoDecimalPlaces correctCount}}
                </td>
                <td>
                    {{formatTwoDecimalPlaces wrongCount}}
                </td>
                <td>
                    {{formatTwoDecimalPlaces emptyCount}}
                </td>
                <td>
                    {{formatTwoDecimalPlaces net}}
                </td>
                <td>
                    {{formatOneDecimalPlace successPercent}}%
                </td>
            </tr>
            <tr>
                <td colspan='2'>Yanlış</td>
                {{#each answers}}
                <td>{{wrongCount}}</td>
                {{/each}}
            </tr>
            <tr>
                <td colspan='2'>Boş</td>
                {{#each answers}}
                <td>{{emptyCount}}</td>
                {{/each}}
            </tr>
            <tr>
                <td colspan='3'></td>
                <td colspan='2' class='rotate90'>Başarı (%)</td>
                {{#each answers}}
                <td class='rotate90'>{{formatOneDecimalPlace successPercent}}</td>
                {{/each}}
            </tr>
        </tfoot>
    </table>
    <div style='page-break-before: always;'></div>
    {{/each}}
</body>

</html>